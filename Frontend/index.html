<!doctype html>
<html lang="en" ng-app="booksApp">
<head>
  <meta charset="utf-8">
  <title>Ejemplo de Libros en Angular</title>
  <link rel="stylesheet" href="css/app.css"/>
  <!-- Agregamos angular para que funcione  -->
  <script src="../node_modules/angular/angular.min.js"></script>

  <!-- Jquery -->
  <script src="../node_modules/jquery/dist/jquery.min.js"></script>

  <!-- Tether -->
  <script src="../node_modules/tether/dist/js/tether.min.js"></script>
  <link rel="stylesheet" href="../node_modules/tether/dist/css/tether.min.css"/>


  <!-- Bootstrap -->
  <script src="../node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="../node_modules/bootstrap/dist/css/bootstrap.min.css"/>
  
  <!-- Importamos los archivos extras que vamos a usar -->
  <script src="js/app.js"></script>  
  <script src="js/service.js"></script>  
  <script src="js/controllers.js"></script>  
</head>
<body ng-controller="AllBooksCtrl as allBooks">
	
	<div class="filtro">
		<span class="buscarLibros">Buscar:</span> 
		<input ng-model="allBooks.wantedBook" class="filtroLibros">
	</div> 
		<!-- Button trigger modal (Add Book) -->
<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#bookModal">
  +
</button>
</br>
	 <table class="tablaLibros">
	 	<tr>
	 		<th>Titulo</th>
	 		<th>Autor</th>
	 		<th>Editorial</th>
	 		<th>Año</th>
	 	</tr>
		<tr ng-repeat="book in books  | filter:allBooks.wantedBook track by $index">
			<td>{{book.title}}</td>
			<td>{{book.author}}</td>
			<td>{{book.editorial}}</td>
			<td>{{book.year}}</td>
			<td><a class="btn btn-primary" ng-click="allBooks.startEditingBook(book)">Edit</a></td>
     		<td><a class="btn btn-danger"  ng-click="allBooks.deleteBook(book)">Delete</a></td>
		</tr>
	</table>


<!-- Modal (Add Book) -->
<div class="modal fade" id="bookModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle">Add Book</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close" ng-click="allBooks.cancelChangesIfEditing()">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">

        <span class="buscarLibros">Titulo:</span> 
		<input ng-model="book.title" class="filtroLibros"></br>

		<span class="buscarLibros">Autor:</span> 
		<input ng-model="book.author" class="filtroLibros"></br>

		<span class="buscarLibros">Editorial:</span> 
		<input ng-model="book.editorial" class="filtroLibros"></br>

		<span class="buscarLibros">Año:</span> 
		<input ng-model="book.year" class="filtroLibros"></br>
      
      </div>
      <div class="modal-footer" >
        <button type="button" class="btn btn-secondary" data-dismiss="modal" ng-click="allBooks.cancelChangesIfEditing()">Close</button>
        <button type="button" id="okButton" class="btn btn-primary" ng-click="allBooks.addOrEditBook()">Save</button>
      </div>
    </div>
  </div>
</div>
</body>
</html>

